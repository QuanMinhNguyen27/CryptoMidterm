<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#121212] text-gray-300 relative">
  <!-- Alert -->
  <div id="successAlert" class="hidden fixed top-4 right-4 z-50 w-80 sm:w-96 text-sm sm:text-base">
    <div class="flex items-center justify-between w-full h-16 rounded-lg bg-[#232531] px-4 shadow-lg">
      <div class="flex items-center gap-4">
        <div class="text-[#2b9875] bg-white/5 backdrop-blur-xl p-2 rounded-lg">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m4.5 12.75 6 6 9-13.5"
            ></path>
          </svg>
        </div>
        <div>
          <p class="text-white font-bold">Sign up successful!</p>
          <p class="text-gray-400">Redirecting to sign-in page...</p>
        </div>
      </div>
      <button
        id="closeAlert"
        class="text-gray-600 hover:bg-white/5 p-1 rounded-md transition-colors ease-linear"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6 18 18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Signup form -->
  <div class="flex flex-col items-center justify-center h-screen">
    <div class="w-full max-w-md bg-[#1E1E1E] rounded-lg shadow-md p-6">
      <h2 class="text-2xl font-bold text-gray-100 mb-4">Sign Up</h2>
      <form id="signupForm" class="flex flex-col">
        <input id="firstName" placeholder="First Name" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="text" required>
        <input id="lastName" placeholder="Last Name" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="text" required>
        <input id="email" placeholder="Email" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="email" required>
        <p id="emailError" class="text-red-400 text-sm hidden mb-4">Email must be in a valid format (e.g., user@example.com).</p>
        <input id="citizenId" placeholder="Citizen Identification (12 digits)" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="text" pattern="\d{12}" title="Citizen Identification must be exactly 12 digits" required>
        <input id="password" placeholder="Password" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="password" required>
        <p class="text-sm text-gray-400 mb-4">Password should be at least 15 characters OR at least 8 characters including a number and a lowercase letter.</p>
        <input id="confirmPassword" placeholder="Confirm Password" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="password" required>
        <label class="text-sm mb-2 text-gray-400 cursor-pointer" for="gender">Gender</label>
        <select id="gender" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" required>
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
        <label class="text-sm mb-2 text-gray-400 cursor-pointer" for="age">Date of Birth</label>
        <input id="age" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="date" required>
        <input id="district" placeholder="District" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="text" required>
        <input id="city" placeholder="City" class="bg-[#2A2A2A] text-gray-100 border-0 rounded-md p-2 mb-4 focus:bg-[#333333] focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150" type="text" required>
        <p id="errorMessage" class="text-red-400 text-sm hidden mt-4"></p>
        <button class="bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:from-blue-600 hover:to-indigo-600 transition ease-in-out duration-150" type="submit">Sign Up</button>
      </form>
      <div class="mt-4 text-center">
        <p class="text-gray-400 text-sm">
          Already have an account? 
          <a href="index.html" class="text-blue-400 font-medium hover:underline">
            Sign in â†’
          </a>
        </p>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('signupForm');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirmPassword');
    const citizenId = document.getElementById('citizenId');
    const district = document.getElementById('district');
    const city = document.getElementById('city');
    const errorMessage = document.getElementById('errorMessage');
    const successAlert = document.getElementById('successAlert');
    const closeAlert = document.getElementById('closeAlert');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      let errors = [];

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;
      if (!emailRegex.test(email.value)) {
        errors.push('Email must be in a valid format (e.g., user@example.com).');
      }

      const isValidPassword =
        password.value.length >= 15 ||
        (password.value.length >= 8 && /[a-z]/.test(password.value) && /\d/.test(password.value));
      if (!isValidPassword) {
        errors.push('Password must be at least 15 characters OR at least 8 characters including a number and a lowercase letter.');
      }

      if (password.value !== confirmPassword.value) {
        errors.push('Passwords do not match.');
      }

      if (!/\d{12}/.test(citizenId.value)) {
        errors.push('Citizen Identification must be exactly 12 digits.');
      }

      if (!district.value.trim()) {
        errors.push('District is required.');
      }

      if (!city.value.trim()) {
        errors.push('City is required.');
      }
      
      if (errors.length > 0) {
        errorMessage.innerHTML = errors.join('<br>');
        errorMessage.classList.remove('hidden');
        successAlert.classList.add('hidden');
      } else {
        errorMessage.classList.add('hidden');
        successAlert.classList.remove('hidden');
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 1500);
      }
    });

    closeAlert.addEventListener('click', () => {
      successAlert.classList.add('hidden');
    });
  </script>
</body>
</html>
